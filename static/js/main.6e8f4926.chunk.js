(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{52:function(n,t,e){"use strict";e.r(t);var o,r,c,i,a,s,u=e(0),l=e.n(u),d=e(24),f=e(5),b=e(6),h=e.n(b),p=e(11),j=e(12),g=e.n(j),m=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.id,e=n.by,o=n.url,r=n.time,c=n.title;return{id:t,by:e,url:o,time:r,title:c}},w=" https://hacker-news.firebaseio.com/v0/",v="".concat(w,"newstories.json"),x="".concat(w,"item/"),O=function(){var n=Object(p.a)(h.a.mark((function n(t){var e;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get("".concat(x+t,".json")).then((function(n){var t=n.data;return t&&m(t)}));case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),y=function(){var n=Object(p.a)(h.a.mark((function n(){var t;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g.a.get(v).then((function(n){return n.data}));case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=e(3),E=e(4),S=E.b.section(o||(o=Object(k.a)(["\n  padding-top:10px;\n  margin-bottom:20px;\n  border-top:1px solid #cccccc;\n\n  &:first-of-type{\n      border-top:0;\n  }\n\n  &:last-of-type{\n      margin-bottom:0;\n      padding-bottom:0;\n  }\n"]))),M=E.b.h1(r||(r=Object(k.a)(["\n  margin-bottom:5px;\n  font-size:18px;\n  line-heigt:1.8;\n  margin:0;\n  text-decoratopm:none;\n\n  a{\n      color #2e2e2c;\n      background-color:#f8dc3d;\n      text-decoration:none;\n  }\n"]))),W=E.b.div(c||(c=Object(k.a)(["\nfont-style:italic;\n\n>span(:first-child){\n    margin-right: 10px;\n}\n\n> span:not(:first-child):before{\n    content:'~';\n    margin:0 7px;\n}\n\n\n.story__meta-bold{\n    font-weight:bold;\n}\n\n"]))),z=E.b.span(i||(i=Object(k.a)(["\nfont-weight:bold;\ncolor:",";\n"])),(function(n){return n.color||"red"})),A=function(n){var t=Math.floor((new Date-1e3*n)/1e3),e=Math.floor(t/31536e3);return e>1?"".concat(e," years"):(e=Math.floor(t/2592e3))>1?"".concat(e," months"):(e=Math.floor(t/86400))>1?"".concat(e," days"):(e=Math.floor(t/36e5))>1?"".concat(e," hours"):(e=Math.floor(t/60))>1?"".concat(e," minutes"):"".concat(Math.floor(t/60)," seconds")},T=e(1),H=Object(u.memo)((function(n){var t=n.storyId,e=Object(u.useState)({}),o=Object(f.a)(e,2),r=o[0],c=o[1];return Object(u.useEffect)((function(){O(t).then((function(n){return n&&n.url&&c(n)}))}),[]),r&&r.url?Object(T.jsxs)(S,{"data-testid":"story",children:[Object(T.jsx)(M,{children:Object(T.jsx)("a",{href:r.url,children:r.title})}),Object(T.jsxs)(W,{children:[Object(T.jsxs)("span",{"data-testid":"story-by",children:[Object(T.jsx)(z,{color:"#000",children:"By:"})," ",r.by]}),Object(T.jsxs)("span",{"data-testid":"story-time",children:[Object(T.jsx)(z,{color:"#000",children:"Posted:"})," ","  ",A(r.time)]})]})]}):null})),L=Object(E.a)(a||(a=Object(k.a)(["\n html{\n     -webkit-box-sizing:border-box;\n     box-sizing:border-box;\n }\n *,*:before, *:after{\n     -webkit-box-sizing: inherit;\n     box-sizing: inherit;\n }\n\n body{\n     margin:0;\n     padding:0;\n     line-hieght:1;\n     color:#202020;\n     background-color:#fafafe;\n     font-family: Arial, Helvetica, sans-serif;\n     font-size:16px;\n }\n\n ul{\n     margin:0;\n     padding:0;\n }\n"]))),B=E.b.main(s||(s=Object(k.a)(["\n  max-width: 1140px;\n  padding-top:20px 15px;\n  margin:auto;\n"]))),C=function(){var n=Object(u.useState)(!1),t=Object(f.a)(n,2),e=t[0],o=t[1],r=Object(u.useState)(30),c=Object(f.a)(r,2),i=c[0],a=c[1],s=function(n,t,e,o){var r;return function(){var c=(void 0).context,i=e&&!r;clearTimeout(r),r=setTimeout((function(){r=null,e||n.apply(c,o)}),t),i&&n.apply(c,o)}}((function(){if(window.innerHeight+document.documentElement.scrollTop!==document.documentElement.offsetHeight||e)return!1;o(!0)}),500);return Object(u.useState)((function(){e&&(a(i+30>=500?500:i+30),o(!1))}),[e]),Object(u.useEffect)((function(){return window.addEventListener("scroll",s),function(){return window.removeEventListener("scroll",s)}}),[]),{count:i}},I=function(){var n=C.count,t=Object(u.useState)([]),e=Object(f.a)(t,2),o=e[0],r=e[1];return Object(u.useEffect)((function(){y().then((function(n){return r(n)})),console.log("count",n)}),[n]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(L,{}),Object(T.jsxs)(B,{"data-test-id":"stories-container",children:[Object(T.jsx)("h1",{children:"Hacking News Stories"}),o.slice(0,n).map((function(n){return Object(T.jsx)(H,{storyId:n},n)}))]})]})},N=function(){return Object(T.jsx)(I,{})},P=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function R(n,t){navigator.serviceWorker.register(n).then((function(n){n.onupdatefound=function(){var e=n.installing;null!=e&&(e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(n)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(n)))})}})).catch((function(n){console.error("Error during service worker registration:",n)}))}Object(d.render)(Object(T.jsx)(l.a.StrictMode,{children:Object(T.jsx)(N,{})}),document.getElementById("root")),function(n){if("serviceWorker"in navigator){if(new URL("/hackernews-api",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hackernews-api","/service-worker.js");P?(!function(n,t){fetch(n).then((function(e){var o=e.headers.get("content-type");404===e.status||null!=o&&-1===o.indexOf("javascript")?navigator.serviceWorker.ready.then((function(n){n.unregister().then((function(){window.location.reload()}))})):R(n,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,n),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):R(t,n)}))}}()}},[[52,1,2]]]);
//# sourceMappingURL=main.6e8f4926.chunk.js.map